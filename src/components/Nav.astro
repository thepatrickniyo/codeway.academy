---
import { Image } from "astro:assets";
---

<header class="container mx-auto px-4 py-2 sticky top-0 bg-opacity-50 backdrop-filter backdrop-blur-lg z-50">
  <nav class="flex justify-between items-center">
    <a href="/" class="cursor-pointer">
      <div class="relative cursor-pointer">
        <Image src="/assets/logo-1.svg" alt="CodeWay Academy" width="80" height="30" draggable="false" />
        <span class="left-11 top-12 text-xs text-white cursor-pointer hidden absolute md:block">Codeway Academy</span>
      </div>
    </a>
    
    <!-- Menu icon for mobile -->
    <div class="block lg:hidden">
      <button 
        id="menu-toggle"
        class="text-white hover:text-teal-200 transition focus:outline-none"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16m-7 6h7"
          />
        </svg>
      </button>
    </div>
    
    <!-- Navigation links for larger screens -->
    <ul class="hidden lg:flex space-x-6">
      <li class="cursor-pointer"><a href="/courses" class="text-white hover:text-teal-200 transition">Courses</a></li>
      <li class="cursor-pointer relative">
        <a href="/loadmap" class="text-white hover:text-teal-200 transition">Load maps</a>
        <span class="absolute -top-4 -right-16 bg-teal-500 text-white text-xs px-2 py-1 rounded-full animate-pulse">Coming Soon</span>
      </li>
      <!-- <li><a href="#" class="text-white hover:text-teal-200 transition">Pricing</a></li> -->
      <!-- <li><a href="#" class="text-white hover:text-teal-200 transition">For Teams</a></li> -->
    </ul>
  </nav>

  <!-- Fullscreen mobile menu (hidden by default) -->
  <div id="mobile-menu" class="fixed inset-0 w-screen h-screen bg-gradient-to-br from-purple-900/95 via-blue-900/95 to-teal-900/95 backdrop-blur-md flex flex-col items-center justify-center z-50 lg:hidden hidden overflow-hidden">
    <!-- Close button -->
    <button
      id="close-menu"
      class="absolute top-6 right-6 text-white hover:text-teal-200 focus:outline-none transition-colors duration-300 z-10"
    >
      <svg
        class="w-8 h-8"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>
    
    <!-- Logo in mobile menu -->
    <div class="mb-12">
      <div class="text-center">
        <div class="text-white text-3xl font-bold mb-2">CodeWay Academy</div>
        <div class="text-teal-300 text-sm">Learn Today, Earn Tomorrow</div>
      </div>
    </div>
    
    <!-- Menu items -->
    <ul class="space-y-8 text-center">
      <li>
        <a href="/courses" class="block text-white text-2xl font-medium hover:text-teal-200 transition-all duration-300 hover:scale-105 py-3 px-6 rounded-lg hover:bg-white/10">
          Courses
        </a>
      </li>
      <li class="relative inline-block">
        <a href="/loadmap" class="block text-white text-2xl font-medium hover:text-teal-200 transition-all duration-300 hover:scale-105 py-3 px-6 rounded-lg hover:bg-white/10">
          Load Maps
        </a>
        <span class="absolute -top-1 -right-8 bg-teal-500 text-white text-xs px-2 py-1 rounded-full animate-pulse shadow-lg">Coming Soon</span>
      </li>
    </ul>
    
    <!-- Additional info in mobile menu -->
    <div class="mt-16 text-center">
      <p class="text-gray-300 text-sm mb-4">Ready to start your learning journey?</p>
      <div class="space-y-3">
        <a href="/courses" class="inline-block bg-teal-500 text-white px-8 py-3 rounded-full hover:bg-teal-600 transition-colors duration-300 text-lg font-medium shadow-lg">
          Explore Courses
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  // Client-side JavaScript for the mobile menu functionality
  document.addEventListener('DOMContentLoaded', () => {
    const menuToggle = document.getElementById('menu-toggle');
    const closeMenu = document.getElementById('close-menu');
    const mobileMenu = document.getElementById('mobile-menu');

    // Function to toggle the menu
    menuToggle?.addEventListener('click', () => {
      mobileMenu?.classList.remove('hidden');
    });

    // Function to close the menu
    closeMenu?.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
    });
  });
</script>